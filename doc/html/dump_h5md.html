<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dump h5md command &mdash; LAMMPS documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/lammps.css" type="text/css" />
    <link rel="shortcut icon" href="_static/lammps.ico"/>
    <link rel="canonical" href="https://docs.lammps.org/dump_h5md.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=f5d268a4"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script async="async" src="_static/mathjax/es5/tex-mml-chtml.js?v=cadf963e"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="dump image command" href="dump_image.html" />
    <link rel="prev" title="dump cfg/uef command" href="dump_cfg_uef.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="Manual.html">
            
              <img src="_static/lammps-logo.png" class="logo" alt="Logo"/>
          </a>
            <div class="lammps_version">Version: <b>2 Aug 2023</b></div>
            <div class="lammps_release">git info: 2Aug2023</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">2. Install LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Build.html">3. Build LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run_head.html">4. Run LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commands.html">5. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Packages.html">6. Optional packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Speed.html">7. Accelerate performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Howto.html">8. Howto discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">9. Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">10. Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Errors.html">11. Errors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programmer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Library.html">1. LAMMPS Library Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_head.html">2. Use Python with LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modify.html">3. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer.html">4. Information for Developers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Command Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="commands_list.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixes.html">Fixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="computes.html">Computes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">Pair Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="bonds.html">Bond Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="angles.html">Angle Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dihedrals.html">Dihedral Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="impropers.html">Improper Styles</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dumps.html">Dump Styles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dump.html">dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-vtk-command"><span class="xref std std-doc">dump vtk</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-h5md-command"><span class="xref std std-doc">dump h5md</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-molfile-command"><span class="xref std std-doc">dump molfile</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-netcdf-command"><span class="xref std std-doc">dump netcdf</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-image-command"><span class="xref std std-doc">dump image</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-movie-command"><span class="xref std std-doc">dump movie</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-atom-adios-command"><span class="xref std std-doc">dump atom/adios</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-custom-adios-command"><span class="xref std std-doc">dump custom/adios</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-cfg-uef-command"><span class="xref std std-doc">dump cfg/uef</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_adios.html">dump atom/adios  command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_adios.html#dump-custom-adios-command">dump custom/adios command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_cfg_uef.html">dump cfg/uef command</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dump h5md command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restrictions">Restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-commands">Related commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html">dump image command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-movie-command">dump movie command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-modify-options-for-dump-image-movie">dump_modify options for dump image/movie</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html">dump_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html#dump-modify-command-for-image-movie-options"><span class="xref std std-doc">dump_modify</span> command for image/movie options</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_molfile.html">dump molfile command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_netcdf.html">dump netcdf command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_netcdf.html#dump-netcdf-mpiio-command">dump netcdf/mpiio command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_vtk.html">dump vtk command</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fix_modify_atc_commands.html">fix_modify AtC commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="Manual.html">LAMMPS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="Manual.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="commands_list.html">Commands</a></li>
      <li class="breadcrumb-item active">dump h5md command</li>
      <li class="wy-breadcrumbs-aside">
          <a href="https://www.lammps.org"><img src="_static/lammps-logo.png" width="64" height="16" alt="LAMMPS Homepage"></a> | <a href="Commands_all.html">Commands</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="dump_cfg_uef.html" class="btn btn-neutral float-left" title="dump cfg/uef command" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dump_image.html" class="btn btn-neutral float-right" title="dump image command" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><span class="math notranslate nohighlight">\(\renewcommand{\AA}{\text{Å}}\)</span></p>
<section id="dump-h5md-command">
<span id="index-0"></span><h1>dump h5md command<a class="headerlink" href="#dump-h5md-command" title="Permalink to this heading"></a></h1>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading"></a></h2>
<div class="highlight-LAMMPS notranslate"><div class="highlight"><pre><span></span><span class="k">dump </span><span class="nv nv-Identifier">ID</span><span class="w"> </span><span class="nv nv-Identifier">group-ID</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">file.h5</span><span class="w"> </span><span class="n">args</span>
</pre></div>
</div>
<ul>
<li><p>ID = user-assigned name for the dump</p></li>
<li><p>group-ID = ID of the group of atoms to be imaged</p></li>
<li><p><em>h5md</em> = style of dump command (other styles <em>atom</em> or <em>cfg</em> or <em>dcd</em> or <em>xtc</em> or <em>xyz</em> or <em>local</em> or <em>custom</em> are discussed on the <a class="reference internal" href="dump.html"><span class="doc">dump</span></a> doc page)</p></li>
<li><p>N = dump every this many timesteps</p></li>
<li><p>file.h5 = name of file to write to</p></li>
<li><p>args = <em>position</em> options or <em>image</em> or <em>velocity</em> options or <em>force</em> options or <em>species</em> options or <em>file_from</em> ID or <em>box</em> value or <em>create_group</em> value or <em>author</em> value = list of data elements to dump, with their dump “sub-intervals”</p>
<pre class="literal-block"><em>position</em> options
<em>image</em>
<em>velocity</em> options
<em>force</em> options
<em>species</em> options
<em>file_from</em> ID = do not open a new file, re-use the already opened file from dump ID
<em>box</em> value = <em>yes</em> or <em>no</em>
<em>create_group</em> value = <em>yes</em> or <em>no</em>
<em>author</em> value = quoted string</pre>
</li>
</ul>
<p>Note that at least one element must be specified and that <em>image</em> may only be
present if <em>position</em> is specified first.</p>
<p>For the elements <em>position</em>, <em>velocity</em>, <em>force</em> and <em>species</em>, a
sub-interval may be specified to write the data only every N_element
iterations of the dump (i.e. every N*N_element time steps). This is
specified by this option directly following the element declaration:</p>
<pre class="literal-block">options = <em>every</em> N_element</pre>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<div class="highlight-LAMMPS notranslate"><div class="highlight"><pre><span></span><span class="k">dump </span><span class="nv nv-Identifier">h5md1</span><span class="w"> </span><span class="nv nv-Identifier">all</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="n">dump_h5md.h5</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="n">image</span>
<span class="k">dump </span><span class="nv nv-Identifier">h5md1</span><span class="w"> </span><span class="nv nv-Identifier">all</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="n">dump_h5md.h5</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="k">velocity </span><span class="nv nv-Identifier">every</span><span class="w"> </span><span class="m">10</span>
<span class="k">dump </span><span class="nv nv-Identifier">h5md1</span><span class="w"> </span><span class="nv nv-Identifier">all</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="n">dump_h5md.h5</span><span class="w"> </span><span class="k">velocity </span><span class="nv nv-Identifier">author</span><span class="w"> </span><span class="s">&quot;John Doe&quot;</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>Dump a snapshot of atom coordinates every N timesteps in the
<a class="reference external" href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a> based <a class="reference external" href="https://nongnu.org/h5md/">H5MD</a> file format <a class="reference internal" href="#h5md-cpc"><span class="std std-ref">(de Buyl)</span></a>.
HDF5 files are binary, portable and self-describing.  This dump style
will write only one file, on the root node.</p>
<p>Several dumps may write to the same file, by using file_from and
referring to a previously defined dump.  Several groups may also be
stored within the same file by defining several dumps.  A dump that
refers (via <em>file_from</em>) to an already open dump ID and that concerns
another particle group must specify <em>create_group yes</em>.</p>
<p>Each data element is written every N*N_element steps. For <em>image</em>, no
sub-interval is needed as it must be present at the same interval as
<em>position</em>.  <em>image</em> must be given after <em>position</em> in any case.  The
box information (edges in each dimension) is stored at the same
interval than the <em>position</em> element, if present. Else it is stored
every N steps.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because periodic boundary conditions are enforced only on
timesteps when neighbor lists are rebuilt, the coordinates of an atom
written to a dump file may be slightly outside the simulation box.</p>
</div>
<p><strong>Use from write_dump:</strong></p>
<p>It is possible to use this dump style with the
<a class="reference internal" href="write_dump.html"><span class="doc">write_dump</span></a> command.  In this case, the sub-intervals
must not be set at all.  The write_dump command can be used either to
create a new file or to add current data to an existing dump file by
using the <em>file_from</em> keyword.</p>
<p>Typically, the <em>species</em> data is fixed. The following two commands
store the position data every 100 timesteps, with the image data, and
store once the species data in the same file.</p>
<div class="highlight-LAMMPS notranslate"><div class="highlight"><pre><span></span><span class="k">dump </span><span class="nv nv-Identifier">h5md1</span><span class="w"> </span><span class="nv nv-Identifier">all</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="n">dump.h5</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="n">image</span>
<span class="k">write_dump </span><span class="nv nv-Identifier">all</span><span class="w"> </span><span class="n">h5md</span><span class="w"> </span><span class="n">dump.h5</span><span class="w"> </span><span class="n">file_from</span><span class="w"> </span><span class="n">h5md1</span><span class="w"> </span><span class="n">species</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="restrictions">
<h2>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this heading"></a></h2>
<p>The number of atoms per snapshot cannot change with the h5md style.
The position data is stored wrapped (box boundaries not enforced, see
note above).  Only orthogonal domains are currently supported. This is
a limitation of the present dump h5md command and not of H5MD itself.</p>
<p>The <em>h5md</em> dump style is part of the H5MD package. It is only
enabled if LAMMPS was built with that package. See the <a class="reference internal" href="Build_package.html"><span class="doc">Build package</span></a> page for more info. It also requires
(i) building the ch5md library provided with LAMMPS (See the <a class="reference internal" href="Build_package.html"><span class="doc">Build package</span></a> page for more info.) and (ii) having
the <a class="reference external" href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a> library installed (C bindings are sufficient) on
your system.  The library ch5md is compiled with the h5cc wrapper
provided by the HDF5 library.</p>
</section>
<hr class="docutils" />
<section id="related-commands">
<h2>Related commands<a class="headerlink" href="#related-commands" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="dump.html"><span class="doc">dump</span></a>, <a class="reference internal" href="dump_modify.html"><span class="doc">dump_modify</span></a>, <a class="reference internal" href="undump.html"><span class="doc">undump</span></a></p>
<hr class="docutils" />
<p id="h5md-cpc"><strong>(de Buyl)</strong> de Buyl, Colberg and Hofling, H5MD: A structured,
efficient, and portable file format for molecular data,
Comp. Phys. Comm. 185(6), 1546-1553 (2014) -
<a class="reference external" href="https://arxiv.org/abs/1308.6382/">[arXiv:1308.6382]</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dump_cfg_uef.html" class="btn btn-neutral float-left" title="dump cfg/uef command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dump_image.html" class="btn btn-neutral float-right" title="dump image command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2003-2023 Sandia Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>